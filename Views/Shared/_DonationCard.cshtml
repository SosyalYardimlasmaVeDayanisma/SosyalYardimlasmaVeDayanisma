@model Campaign

@{
    var categoryColors = new Dictionary<string, string>
    {
        { "AfetAcilDurum", "#EF4444" },
        { "EgitimCocuk", "#3B82F6" },
        { "Saglik", "#EC4899" },
        { "Hayvanlar", "#8B5CF6" },
        { "GidaTemelIhtiyac", "#F59E0B" },
        { "CevreVeDoga", "#10B981" },
        { "EngelliDogumluBireyler", "#6366F1" },
        { "YasliDestegi", "#F97316" },
        { "KulturSanat", "#EC4899" },
        { "HayalGerceklestirme", "#FCD34D" },
        { "SporVeRekreasyon", "#14B8A6" },
        { "TeknolojiveYenilikcilik", "#A855F7" }
    };
    var categoryColor = categoryColors.ContainsKey(Model.Category.ToString()) ? categoryColors[Model.Category.ToString()] : "#6B7280";
}

<div class="card campaign-card @(Model.IsTimeSensitive ? "time-sensitive-campaign" : "")" style="border-top: 4px solid @categoryColor;">
    <div class="card-body">
        @if (Model.IsTimeSensitive && !string.IsNullOrEmpty(Model.TimeContext))
        {
            <div class="time-context-badge">
                <svg style="width: 14px; height: 14px; margin-right: 6px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                @Model.TimeContext
            </div>
        }
        <div class="campaign-card-header">
            <div style="flex: 1;">
                <div class="campaign-category-label" style="background: @(categoryColor)20; color: @categoryColor; font-weight: 600; border: 1px solid @(categoryColor)40;">
                    @Model.CategoryDisplayName
                </div>
                <h3 class="campaign-title">@Model.Title</h3>
                <div class="campaign-meta">
                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    @Model.City
                    <span class="text-primary">•</span>
                    <span class="badge @(Model.Status == CampaignStatus.Aktif ? "badge-active" : Model.Status == CampaignStatus.Tamamlandı ? "badge-completed" : "badge-pending")">
                        @Model.Status
                    </span>
                </div>
            </div>
        </div>
        <div class="space-y-4">
            <div class="campaign-progress">
                <div class="progress-bar">
                    <div class="progress-fill" style="width: @Math.Min(Model.Progress, 100)%"></div>
                </div>
                <div class="campaign-progress-info">
                    <span class="text-secondary">
                        <span class="campaign-progress-amount">₺@Model.RaisedAmount.ToString("N0")</span>
                        / ₺@Model.GoalAmount.ToString("N0")
                    </span>
                    <span class="text-primary" style="font-weight: 500;">
                        ~@Model.PointsPreview puan kazan
                    </span>
                </div>
            </div>
            <div class="campaign-ngo">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                </svg>
                @Model.NgoName
            </div>
            @if (!string.IsNullOrEmpty(Model.Description))
            {
                <p class="text-secondary" style="font-size: 14px; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">@Model.Description</p>
            }
        </div>
        <div style="margin-top: 24px; padding-top: 20px; border-top: 1px solid var(--border-light);">
            <a href="/Donate?campaign=@Model.Id" class="btn btn-primary btn-full" style="font-weight: 600; font-size: 15px; padding: 16px;">
                <svg style="width: 20px; height: 20px; margin-right: 10px;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                </svg>
                Destek Ol
            </a>
        </div>
    </div>
</div>
